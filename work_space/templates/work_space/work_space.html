{% extends "layout.html" %}
{% load static %}

{% block body %}

    {% block head %}
        {{ author_formset.media }}
    {% endblock %}


    <style>
        #book_form, #article_form, #chapter_form, #website_form, #source_type_form, .hidden, #second_author
        {
            display: none;
        }
    </style>
    <script>

        document.addEventListener('DOMContentLoaded', function() {

            const book_button = document.getElementById('book_button');
            const article_button = document.getElementById('article_button');
            const chapter_button = document.getElementById('chapter_button');
            const website_button = document.getElementById('website_button');

            function show_form(type) {

                let form = document.getElementById(`${type}_form`);

                form.style.display = 'block';
            }

            book_button.addEventListener('click', () => show_form(book_button.innerHTML));
            article_button.addEventListener('click', () => show_form(article_button.innerHTML));
            chapter_button.addEventListener('click', () => show_form(chapter_button.innerHTML));
            website_button.addEventListener('click', () => show_form(website_button.innerHTML));


          
            const first_button = document.getElementById('first_button');
            first_button.addEventListener('click', function() {

                let new_div = document.getElementById('second_author');

                new_div.style.display = 'block';

            })

           


        

        

        });
    </script>


    <h3>{{ space }}</h3>

    <form action="{% url 'paper_work:create_paper' space.pk %}" method="post">
        {% csrf_token %} 
        {{ form }}
        <button id="change_password_button" type="submit">Add Paper</button>
    </form>

    <ul>
        {% for paper in papers %}
        <li>
            <a href="{% url 'paper_work:paper_space' paper.pk %}">{{ paper }}</a>
        </li>
        {% endfor %}
    </ul><br><br>

    
   




    <ul>
        {% for book in books %}
        <li>
           <a href="{% url 'bookshelf:source_space' book.pk %}">{{ book }}</a>
        </li>
        {% endfor %}
    </ul><br><br>


    <li>
        <a href="{% url 'work_space:download_space' space.pk %}">Donwload space</a>
    </li><br><br><br>
    



    <button id="book_button" type="submit">book</button>
    <button id="article_button" type="submit">article</button>
    <button id="chapter_button" type="submit">chapter</button>
    <button id="website_button" type="submit">website</button>


    <form action="{% url 'bookshelf:add_source' space.pk %}" method="post" id="book_form">
        {% csrf_token %} 
        {{ book_form.as_p }}
        <button value="book" name="book" type="submit">Add Book</button>
    </form><br><br><br>

    <form action="{% url 'bookshelf:add_source' space.pk %}" method="post" id="article_form">
        {% csrf_token %} 
        {{ article_form.as_p }}
        <button value="article" name="article" type="submit">Add Article</button>
    </form><br><br><br>


    <form action="{% url 'bookshelf:add_source' space.pk %}" method="post" id="chapter_form">
        {% csrf_token %}
        <div id="first_author">
            <label for="id_fist_author_last_name">Author Last Name:</label>
            <input id="first_author_last_name" name="test" type="text">
            <label for="id_fist_author_first_name">Author First Name:</label>
            <input id="first_author_first_name" type="text">
            <label for="id_fist_author_second_name">Author Second Name:</label>
            <input id="first_author_second_name" type="text">
            <button id="first_button" type="button">Add Author(s)</button>
        </div>
        <div id="second_author">
            <label for="id_second_author_last_name">Author Last Name:</label>
            <input id="second_author_last_name" type="text">
            <label for="id_second_author_first_name">Author First Name:</label>
            <input id="second_author_first_name" type="text">
            <label for="id_second_author_second_name">Author Second Name:</label>
            <input id="second_author_second_name" type="text">
            <button id="second_button" type="button">Add Author(s)</button>
        </div>
        {{ chapter_form.as_p }}
        <button value="chapter" name="chapter" type="submit">Add Chapter</button>
    </form><br><br><br>


    <form action="{% url 'bookshelf:add_source' space.pk %}" method="post" id="website_form">
        {% csrf_token %} 
        {{ website_form.as_p }}
        <button value="website" name="website" type="submit">Add Website</button>
    </form><br><br><br>




    


{% endblock %}

{% block script %}
    <script src="{% static 'user_management/script.js' %}"></script>
{% endblock %}